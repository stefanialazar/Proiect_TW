// QUESTIONS

const questions = [{
        "question": "Which word best describes you?",
        "answer1": "Kind",
        "answer1Total": "Demeter",

        "answer2": "Quiet",
        "answer2Total": "Artemis",

        "answer3": "Moody",
        "answer3Total": "Poseidon",

        "answer4": "Controlling",
        "answer4Total": "Hera",

        "answer5": "Musical",
        "answer5Total": "Apollo",

        "answer6": "Violent",
        "answer6Total": "Ares",

        "answer7": "Good-Looking",
        "answer7Total": "Aphrodite",

        "answer8": "Wise",
        "answer8Total": "Athena",

        "answer9": "Swift",
        "answer9Total": "Hermes",

        "answer10": "Strong",
        "answer10Total": "Zeus",

        "answer11": "Lazy",
        "answer11Total": "Dionysus",

        "answer12": "Creative",
        "answer12Total": "Hephaestus",

        "answer13": "Misunderstood",
        "answer13Total": "Hades",
    },
    {
        "question": "What kind of books do you like?",

        "answer1": "Buisness Books",
        "answer1Total": "Hera",

        "answer2": "Science Fiction Books",
        "answer2Total": "Poseidon",

        "answer3": "Home Improvement Books",
        "answer3Total": "Hephaestus",

        "answer4": "Action Books",
        "answer4Total": "Ares",

        "answer5": "Advice Books",
        "answer5Total": "Athena",

        "answer6": "Fantasy Books",
        "answer6Total": "Zeus",

        "answer7": "Romance Books",
        "answer7Total": "Aphrodite",

        "answer8": "Mystery Books",
        "answer8Total": "Dionysus",

        "answer9": "Musical Books",
        "answer9Total": "Apollo",

        "answer10": "Farming Books",
        "answer10Total": "Demeter",

        "answer11": "Depressing Books",
        "answer11Total": "Hades",

        "answer12": "Car Books",
        "answer12Total": "Hermes",

        "answer13": "Biography Books",
        "answer13Total": "Artemis",
    },
    {
        "question": "What is your favorite kind of weather?",

        "answer1": "Partly cloudy and warm",
        "answer1Total": "Dionysus",

        "answer2": "Cold and cloudy",
        "answer2Total": "Hera",

        "answer3": "Clear, hot, and dry",
        "answer3Total": "Artemis",

        "answer4": "Foggy, warm, and humid",
        "answer4Total": "Poseidon",

        "answer5": "Rain with lightning and thunder",
        "answer5Total": "Zeus",

        "answer6": "Partly cloudy, cold, and windy",
        "answer6Total": "Hermes",

        "answer7": "Sunny and warm",
        "answer7Total": "Aphrodite",

        "answer8": "Sunny and hot with a slight breeze",
        "answer8Total": "Demeter",

        "answer9": "Foggy and cool",
        "answer9Total": "Ares",

        "answer10": "Cloudy, hot, and dry",
        "answer10Total": "Hephaestus",

        "answer11": "Snowy",
        "answer11Total": "Athena",

        "answer12": "Cold, wet, and hail",
        "answer12Total": "Hades",

        "answer13": "Warm and comfortable",
        "answer13Total": "Apollo",
    },
    {
        "question": "What power would you want to have the most?",

        "answer1": "Perfect aim in archery",
        "answer1Total": "Artemis",

        "answer2": "Can play any musical instrument invented",
        "answer2Total": "Apollo",

        "answer3": "Shooting lightning bolts",
        "answer3Total": "Zeus",

        "answer4": "Never losing a battle",
        "answer4Total": "Ares",

        "answer5": "Controlling water",
        "answer5Total": "Poseidon",

        "answer6": "Reading and controlling minds",
        "answer6Total": "Dionysus",

        "answer7": "Flying",
        "answer7Total": "Hermes",

        "answer8": "Grow any kind of food",
        "answer8Total": "Demeter",

        "answer9": "Make anyone love you",
        "answer9Total": "Aphrodite",

        "answer10": "Make anyone have extreme anger at any time",
        "answer10Total": "Hera",

        "answer11": "Be able to build ANYTHING",
        "answer11Total": "Hephaestus",

        "answer12": "Be able to make perfect plans",
        "answer12Total": "Athena",

        "answer13": "Controlling the dead",
        "answer13Total": "Hades",
    },
    {
        "question": "What is your favorite food/drink",

        "answer1": "Pizza",
        "answer1Total": "Hermes",

        "answer2": "Hamburgers",
        "answer2Total": "Ares",

        "answer3": "Water",
        "answer3Total": "Poseidon",

        "answer4": "Wine",
        "answer4Total": "Dionysus",

        "answer5": "Venison",
        "answer5Total": "Artemis",

        "answer6": "Beef Jerky",
        "answer6Total": "Hephaestus",

        "answer7": "Bread",
        "answer7Total": "Demeter",

        "answer8": "Cake",
        "answer8Total": "Hera",

        "answer9": "Tomatoes",
        "answer9Total": "Aphrodite",

        "answer10": "Ice Cream",
        "answer10Total": "Hades",

        "answer11": "Olives",
        "answer11Total": "Zeus",

        "answer12": "Chocolate",
        "answer12Total": "Athena",

        "answer13": "Spaghetti",
        "answer13Total": "Apollo",
    },
    {
        "question": "What is your dream house?",

        "answer1": "A house made of straw, corn, and wheat",
        "answer1Total": "Demeter",

        "answer2": "A palace on the plains",
        "answer2Total": "Athena",

        "answer3": "An underwater house in the Atlantic",
        "answer3Total": "Poseidon",

        "answer4": "A mansion that is all pink, red, and white",
        "answer4Total": "Aphrodite",

        "answer5": "A castle lined with statues of you",
        "answer5Total": "Zeus",

        "answer6": "A dark place",
        "answer6Total": "Hades",

        "answer7": "A house filled with working utensils",
        "answer7Total": "Hephaestus",

        "answer8": "A house made out of grapes",
        "answer8Total": "Dionysus",

        "answer9": "A mansion filled with weapons",
        "answer9Total": "Ares",

        "answer10": "A log cabin in the forest",
        "answer10Total": "Artemis",

        "answer11": "A castle in the moutains",
        "answer11Total": "Hera",

        "answer12": "I don't want a house, I want to travel",
        "answer12Total": "Hermes",

        "answer13": "As long as I have a home, I'm good",
        "answer13Total": "Apollo",
    },
    {
        "question": "What do you like to do in your spare time?",

        "answer1": "Make and build things",
        "answer1Total": "Hephaestus",

        "answer2": "Hunt",
        "answer2Total": "Artemis",

        "answer3": "Try to steal without being noticed",
        "answer3Total": "Hermes",

        "answer4": "Spend time with children",
        "answer4Total": "Hera",

        "answer5": "Grow crops",
        "answer5Total": "Demeter",

        "answer6": "Read alone in my dark room",
        "answer6Total": "Hades",

        "answer7": "Feast in my bed",
        "answer7Total": "Dionysus",

        "answer8": "Race and compete",
        "answer8Total": "Athena",

        "answer9": "Fight",
        "answer9Total": "Ares",

        "answer10": "Boss people around",
        "answer10Total": "Zeus",

        "answer11": "Swim",
        "answer11Total": "Poseidon",

        "answer12": "Play the piano",
        "answer12Total": "Apollo",

        "answer13": "Flirt with cute guys/girls",
        "answer13Total": "Aphrodite",
    },
    {
        "question": "How do you learn best in school?",

        "answer1": "Home-schooling",
        "answer1Total": "Artemis",

        "answer2": "Reading the text book",
        "answer2Total": "Hades",

        "answer3": "Taking many notes from listening to the teacher and from the text book",
        "answer3Total": "Hera",

        "answer4": "Lots of examples and demonstrations",
        "answer4Total": "Zeus",

        "answer5": "Projects and hands-on activities",
        "answer5Total": "Hephaestus",

        "answer6": "Listening carefully to the teacher",
        "answer6Total": "Apollo",

        "answer7": "A pictured text book of which you can relate to",
        "answer7Total": "Aphrodite",

        "answer8": "Take notes in class and turn them into flash cards to study",
        "answer8Total": "Demeter",

        "answer9": "Copying other student's tests and notes",
        "answer9Total": "Hermes",

        "answer10": "Listen and note only the very important details for tests",
        "answer10Total": "Poseidon",

        "answer11": "I don't pay attention in school",
        "answer11Total": "Ares",

        "answer12": "Watching a T.V. show based on the subject you're learning",
        "answer12Total": "Dionysus",

        "answer13": "Make a careful plan to follow in order to get good grades",
        "answer13Total": "Athena",
    },
    {
        "question": "What is your favorite animal?",

        "answer1": "Dog",
        "answer1Total": "Demeter",

        "answer2": "Peacock",
        "answer2Total": "Apollo",

        "answer3": "Monkey",
        "answer3Total": "Hephaestus",

        "answer4": "Owl",
        "answer4Total": "Athena",

        "answer5": "Cheetah",
        "answer5Total": "Ares",

        "answer6": "Eagle",
        "answer6Total": "Zeus",

        "answer7": "Deer",
        "answer7Total": "Artemis",

        "answer8": "Bear",
        "answer8Total": "Hera",

        "answer9": "Fox",
        "answer9Total": "Hermes",

        "answer10": "Horse",
        "answer10Total": "Poseidon",

        "answer11": "Dove",
        "answer11Total": "Aphrodite",

        "answer12": "Wolf",
        "answer12Total": "Hades",

        "answer13": "Crane",
        "answer13Total": "Dionysus",
    }
]

const getImage = (res) => {
    const a = document.createElement('a');
    const image = document.createElement('img');
    const paragraf = document.createElement('p');
    image.style.margin = "20px 10px 10px 20px"
    paragraf.style.fontSize = "medium";
    paragraf.style.fontWeight = "600";
    paragraf.style.margin = "50px 10px 20px 30px"
    if (res == "Athena") {
        image.src = "athena.jpg";
        localStorage.setItem("god", "Goddess of War, Arts and Wisdom");
        paragraf.innerText = `You got Athena, ${localStorage.getItem("god")}. You are extremely competitive. You always have a battle plan, and you are always ready to defeat those better than you or your enemies. You stand up for what you believe in, and you never back down from a fight. You are also wise and make the right decisions in life. You don't start the fights, you just finish them. You are not emotional at all, but you do have a spot in your heart for love.`;
        a.appendChild(image);
        a.href = "../Athena/Athena.html";
    } else if (res == "Aphrodite") {
        image.src = "aphro.jpg";
        localStorage.setItem("god", "Goddess of Love, Beauty, Pleasure and Procreation");
        paragraf.innerText = `You got Aphrodite, ${localStorage.getItem("god")}. You are a gorgeous or handsome, and you always hang out with only the cute guys or girls. You are way too popular to hang out with nerds, and you have to have a mirror on you at all times. You like to gossip about peoples' relationships, and you take a while to get dressed and do your hair in the morning. You are snobby and spoiled, and you know it. Others tell you all the time to calm down and to quit picking on them, but you like causing trouble with ugly 'people'.`;
        a.appendChild(image);
        a.href = "../Aphro/Aphrodite.html";
    } else if (res == "Apollo") {
        image.src = "apollo.jpg";
        localStorage.setItem("god", "God of the Sun, Music, Archery and Medicine");
        paragraf.innerText = `You got Apollo, ${localStorage.getItem("god")}. You love to heal and nurse hurt or sick people. You can't stand to see the wounded, and you will do anything to make them well again. You also are a great fan of music. You can play any musical instrument invented, and it is your passion and your life. You are very gentle and caring. You would never hurt a fly!`;
        a.appendChild(image);
        a.href = "../Apollo/Apollo.html";
    } else if (res == "Ares") {
        image.src = "ares.png";
        localStorage.setItem("god", "God of War and Violence");
        paragraf.innerText = `You got Ares, ${localStorage.getItem("god")}. You are violent and want control. You want to be better than everyone else, and you will not stand for any disrespect. You love to create fights and to date the hottest people in school. You love to seek anger and hatred, and you are overall an extremely violent person. You are also a bully to those smaller and weaker than you. You enjoy other people's misery.`;
        a.appendChild(image);
        a.href = "../Ares/Ares.html";
    } else if (res == "Artemis") {
        image.src = "artemis.jpg";
        localStorage.setItem("god", "Goddess of the Hunt and the Moon");
        paragraf.innerText = `You got Artemis, ${localStorage.getItem("god")}. You are an extremely skilled archer, and you long for the hunt. You will never miss your prey, and you move swiftly. You are as swift as a wolf, and you are practically impossible to see. You are a rather quiet person, and have no feelings for love. You do not want to be married, and you wish to hunt alone in happiness. You are very tranquil, shy, and secretive. You would rather loom in the shadows than be in the open sun.`;
        a.appendChild(image);
        a.href = "../Artemis/Artemis.html";
    } else if (res == "Demeter") {
        image.src = "demeter.jpg";
        localStorage.setItem("god", "Goddess of Corn, Grain and the Harvest");
        paragraf.innerText = `You got Demeter, ${localStorage.getItem("god")}. You are a lover of farming, nature, and plants. You are a big fan of bread and corn, and you are brave, kind, and sweet. You rarely raise your voice, and you find that all living things should be treated the same. You are neither loud or quiet, and you find yourself fixing your hair often.`;
        a.appendChild(image);
        a.href = "../Demeter/Demeter.html";
    } else if (res == "Dionysus") {
        image.src = "dion.jpg";
        localStorage.setItem("god", "God of the Grape Harvest, Wine and Ritual Madness");
        paragraf.innerText = `You got Dionysus, ${localStorage.getItem("god")}. You are rather lazy and do not care about much. You could be described as a 'Couch Potato'. You love to drink all kinds of delicious beverages. You adore performing in front of people, and are a bit of a ham. You enjoy theater and watching people perform on stage.`;
        a.appendChild(image);
        a.href = "../Dion/Dionysus.html";
    } else if (res == "Hades") {
        image.src = "hades.jpg";
        localStorage.setItem("god", "God of the Dead, Wealth and the Underworld");
        paragraf.innerText = `You got Hades, ${localStorage.getItem("god")}. You are considered one of the most reliable persons in your friend group. You like to keep things orderly and enforce rules strictly. You also love deeply and are faithful to your significant other. (a rare thing in Greek mythology).`;
        a.appendChild(image);
        a.href = "../Hades/Hades.html";
    } else if (res == "Hephaestus") {
        image.src = "hephaestus.jpg";
        localStorage.setItem("god", "God of Fire, Metalworking and Forges");
        paragraf.innerText = `You got Hephaestus, ${localStorage.getItem("god")}. You enjoy using your hands. You love to build and create stuff, as well as fixing broken things. Inventing new things is what you do best, and you can not get enough of it. You are tough and strong, and will accept any challenge thrown at you. You are as tough as nails, although sweet and innocent. You are rather quiet around strangers, but around your friends, you are very kind and enthusiastic.`;
        a.appendChild(image);
        a.href = "../Hepha/Hephaestus.html";
    } else if (res == "Hera") {
        image.src = "hera.jpg";
        localStorage.setItem("god", "Goddess of Marriage and Family");
        paragraf.innerText = `You got Hera, ${localStorage.getItem("god")}. You are the queen of the gods, patron of home and marriage, and wife to Zeus. You are a strong ruler and one who protects what is hers. The other gods fear your anger because you are righteous and strong.`;
        a.appendChild(image);
        a.href = "../Hera/Hera.html";
    } else if (res == "Hermes") {
        image.src = "hermes.jpg";
        localStorage.setItem("god", "God of Trade, Thieves and Travelers");
        paragraf.innerText = `You got Hermes, ${localStorage.getItem("god")}. You may be incredibly social, but you also trick and steal from people. You gossip and talk about other people and what they are doing. You love to talk, and sometimes you like to talk a little too much. You are not the best in school, and you enjoy to mock others lower than you.`;
        a.appendChild(image);
        a.href = "../Hermes/Hermes.html";
    } else if (res == "Poseidon") {
        image.src = "poseidon.jpg";
        localStorage.setItem("god", "God of the Sea, Earthquakes, Storms and Horses");
        paragraf.innerText = `You got Poseidon, ${localStorage.getItem("god")}. The lord of the sea and god of earthquakes. You are normally easygoing and pretty chill, but when you get mad, things can get ugly. Talk about a split-personality!`;
        a.appendChild(image);
        a.href = "../Poseidon/Poseidon.html";
    } else if (res == "Zeus") {
        image.src = "zeus.jpg";
        localStorage.setItem("god", "God of the Sky and King of the Gods");
        paragraf.innerText = `You got Zeus, ${localStorage.getItem("god")}. You are powerful, strong, and a leader. You believe you are the toughest fighter, the best, and stronger than anyone else. Nobody can defeat you.`;
        a.appendChild(image);
        a.href = "../Zeus/Zeus.html";
    }
    document.getElementById("result").appendChild(a); //SELECT BY ID
    document.getElementById("result").appendChild(paragraf);
}

const getdate = () => {
    var d = new Date();
    const paragraf = document.createElement('p');
    paragraf.innerText = `The date of this quiz's result is : ${d.getDate()}.${d.getMonth()+1}.${d.getFullYear()}`;
    document.getElementById("result").appendChild(paragraf);
}

const getform = () => {
    const insert = document.getElementsByClassName('name');
    const input = document.createElement('input');
    const input2 = document.createElement('input');
    const paragraf = document.createElement('p');
    paragraf.innerText = "Your name is:"
    const paragraf2 = document.createElement('p');
    paragraf2.innerText = "Your birthday is:"
    input.setAttribute("value", insert[0].value);
    input2.setAttribute("value", insert[1].value);
    input.readOnly = true;
    input2.readOnly = true;
    input.name = "readvalue";
    input2.name = "readvalue";
    document.getElementById("result").appendChild(paragraf);
    document.getElementById("result").appendChild(input);
    document.getElementById("result").appendChild(paragraf2);
    document.getElementById("result").appendChild(input2);
}

const adauga_radio = (info) => {
    const label = document.createElement('label');
    label.className = "option";
    const radio = document.createElement('input');
    radio.setAttribute("type", "radio");
    radio.name = "option";
    const span = document.createElement('span');
    span.className = info;
    label.appendChild(radio);
    label.appendChild(span);
    document.querySelector('.quiz-container').appendChild(label);
}

const adauga_input = () => {
    const newline = document.createElement('p');
    newline.innerText = "\n";
    const paragraf = document.createElement('p');
    paragraf.innerText = "Who wants to take this marvelous quiz?"
    const paragraf2 = document.createElement('p');
    paragraf2.innerText = "What is your birthdate?"
    const input = document.createElement('input');
    const input2 = document.createElement('input');
    input.setAttribute("type", "text");
    input2.setAttribute("type", "text");
    input.classList.add('name');
    input2.classList.add('name');
    input.style.margin = "10px 0px";
    input2.style.margin = "10px 0px";
    input.name = 'name';
    input2.name = 'name';
    input.placeholder = "Type name here..";
    input2.placeholder = "Birthday (DD/MM/YYYY)";
    document.querySelector('.yourname').appendChild(paragraf);
    document.querySelector('.yourname').appendChild(input);
    document.querySelector('.yourname').appendChild(paragraf2);
    document.querySelector('.yourname').appendChild(input2);
    document.querySelector('.yourname').appendChild(newline);
    const buton = document.createElement('button');
    buton.innerText = 'submit';
    buton.id = 'submit';
    buton.style.backgroundColor = "#8d7359";
    buton.style.width = "190px";
    buton.style.color = "white";
    document.querySelector('.yourname').appendChild(buton);
}


const adauga_buton = (info) => {
    const buton = document.createElement('button');
    buton.className = info;
    buton.innerText = info;
    document.querySelector('.controls').appendChild(buton);
}

const createbutons = () => {
    const div = document.createElement('div');
    div.className = "controls";
    document.querySelector('.quiz-container').appendChild(div);
    adauga_buton("previous");
    adauga_buton("next");
}


window.onload = () => {
    adauga_input();

    const submit = document.getElementById('submit');
    const insert = document.getElementsByName('name');
    var dateformat = /^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/;

    submit.onclick = () => {

        if (insert[0].value == "") {
            alert("Please type your name!")
        } else if (insert[1].value == "") {
            alert("Please insert your birthday!")
        } else if (!insert[1].value.match(dateformat)) {
            alert("The date is incorrect!")
        } else {
            document.querySelector('.yourname').style.display = 'none';

            alert("You have 20 minutes to complete this quiz!");
            let timeout;
            timeout = setTimeout(() => {
                alert("20 minutes passed, i am afraid you didn't complete the quiz :(");
                location.reload();
            }, 1200000); //refresh in 20 minutes
            setInterval(
                function() { alert("Are you still here? This is a personality quiz, not a Harvard admission exam!"); }, 300000); //5 minutes
            let currentQuestion = 0;
            let change = "";

            var dict_rez = {
                "Aphrodite": 0,
                "Apollo": 0,
                "Ares": 0,
                "Artemis": 0,
                "Athena": 0,
                "Demeter": 0,
                "Dionysus": 0,
                "Hades": 0,
                "Hephaestus": 0,
                "Hera": 0,
                "Hermes": 0,
                "Poseidon": 0,
                "Zeus": 0,
            };

            adauga_radio("option1");
            adauga_radio("option2");
            adauga_radio("option3");
            adauga_radio("option4");
            adauga_radio("option5");
            adauga_radio("option6");
            adauga_radio("option7");
            adauga_radio("option8");
            adauga_radio("option9");
            adauga_radio("option10");
            adauga_radio("option11");
            adauga_radio("option12");
            adauga_radio("option13");
            createbutons();

            const totalQuestions = questions.length;

            const container = document.querySelector('.quiz-container');
            const questionEl = document.querySelector('.question');
            const option1 = document.querySelector('.option1');
            const option2 = document.querySelector('.option2');
            const option3 = document.querySelector('.option3');
            const option4 = document.querySelector('.option4');
            const option5 = document.querySelector('.option5');
            const option6 = document.querySelector('.option6');
            const option7 = document.querySelector('.option7');
            const option8 = document.querySelector('.option8');
            const option9 = document.querySelector('.option9');
            const option10 = document.querySelector('.option10');
            const option11 = document.querySelector('.option11');
            const option12 = document.querySelector('.option12');
            const option13 = document.querySelector('.option13');

            const nextButton = document.querySelector('.next');
            const previousButton = document.querySelector('.previous');

            //const restartButton = document.querySelector('.restart');
            const result = document.querySelector('.result');

            const generateQuestions = (index) => {

                const question = questions[index];
                const option1Total = questions[index].answer1Total;
                const option2Total = questions[index].answer2Total;
                const option3Total = questions[index].answer3Total;
                const option4Total = questions[index].answer4Total;
                const option5Total = questions[index].answer5Total;
                const option6Total = questions[index].answer6Total;
                const option7Total = questions[index].answer7Total;
                const option8Total = questions[index].answer8Total;
                const option9Total = questions[index].answer9Total;
                const option10Total = questions[index].answer10Total;
                const option11Total = questions[index].answer11Total;
                const option12Total = questions[index].answer12Total;
                const option13Total = questions[index].answer13Total;

                questionEl.innerHTML = `${index + 1}. ${question.question}`
                option1.setAttribute('data', `${option1Total}`);
                option2.setAttribute('data', `${option2Total}`);
                option3.setAttribute('data', `${option3Total}`);
                option4.setAttribute('data', `${option4Total}`);
                option5.setAttribute('data', `${option5Total}`);
                option6.setAttribute('data', `${option6Total}`);
                option7.setAttribute('data', `${option7Total}`);
                option8.setAttribute('data', `${option8Total}`);
                option9.setAttribute('data', `${option9Total}`);
                option10.setAttribute('data', `${option10Total}`);
                option11.setAttribute('data', `${option11Total}`);
                option12.setAttribute('data', `${option12Total}`);
                option13.setAttribute('data', `${option13Total}`);

                option1.innerHTML = `${question.answer1}`
                option2.innerHTML = `${question.answer2}`
                option3.innerHTML = `${question.answer3}`
                option4.innerHTML = `${question.answer4}`
                option5.innerHTML = `${question.answer5}`
                option6.innerHTML = `${question.answer6}`
                option7.innerHTML = `${question.answer7}`
                option8.innerHTML = `${question.answer8}`
                option9.innerHTML = `${question.answer9}`
                option10.innerHTML = `${question.answer10}`
                option11.innerHTML = `${question.answer11}`
                option12.innerHTML = `${question.answer12}`
                option13.innerHTML = `${question.answer13}`
            }

            const loadNextQuestion = () => {
                const selectedOption = document.querySelector('input[type="radio"]:checked');

                if (!selectedOption) {
                    alert('Please select your answer!');
                    return;
                }
                const answerScore = selectedOption.nextElementSibling.getAttribute('data');
                change = answerScore;
                dict_rez[answerScore]++;
                currentQuestion++;

                selectedOption.checked = false;

                if (currentQuestion == totalQuestions - 1) {
                    nextButton.textContent = 'Finish';
                }

                if (currentQuestion == totalQuestions) {
                    clearTimeout(timeout); //no more refreshing the page.
                    container.style.display = 'none';
                    let res = "";
                    let maxi = 0;
                    for (var key in dict_rez) {
                        if (dict_rez[key] > maxi) {
                            maxi = dict_rez[key];
                            res = key;
                        }
                    }
                    getImage(res);
                    getdate();
                    getform();
                    const v = document.getElementsByName('name');
                    v[0].addEventListener("mousedown", function getEventTrigger(event) {
                        x = event.currentTarget;
                        alert("The value of the triggered element: " + x.value);
                    });
                    result.innerHTML += `<button class="restart">Restart Quiz</button>`;
                    return;
                }
                generateQuestions(currentQuestion);
            }


            const loadPreviousQuestion = () => {
                if (currentQuestion == 0) {
                    alert('This is the first question!');
                    return;
                }
                if (change != "") {
                    currentQuestion--;
                    dict_rez[change]--;
                    generateQuestions(currentQuestion);
                }
            }

            //Fuction to reset and restart the quiz;
            const restartQuiz = (e) => {
                if (e.target.matches('button')) {
                    //reset array index and score
                    currentQuestion = 0;
                    dict_rez = {
                        "Aphrodite": 0,
                        "Apollo": 0,
                        "Ares": 0,
                        "Artemis": 0,
                        "Athena": 0,
                        "Demeter": 0,
                        "Dionysus": 0,
                        "Hades": 0,
                        "Hephaestus": 0,
                        "Hera": 0,
                        "Hermes": 0,
                        "Poseidon": 0,
                        "Zeus": 0,
                    };
                    //Reload quiz

                    location.reload();
                }
            }

            generateQuestions(currentQuestion);
            nextButton.addEventListener('click', loadNextQuestion);
            previousButton.addEventListener('click', loadPreviousQuestion);
            result.addEventListener('click', restartQuiz);

            for (let i = 0; i < document.getElementsByTagName('span').length; i++)
                document.getElementsByTagName('span')[i].style.margin = "20px";
        }
    }
}